<%- include ("_header.ejs"); %>

    <h1>Hello World</h1>

    <script>
        /**var data = fetch('https://api.open-meteo.com/v1/forecast?latitude=52.52&longitude=13.41&hourly=temperature_2m,precipitation&forecast_days=1')
            .then(res => res.json()).then(data => console.log(data));
        console.log('/n');**/
        var url = 'https://api.open-meteo.com/v1/forecast?latitude=52.52&longitude=13.41&hourly=temperature_2m,precipitation&forecast_days=1';

        async function getData(url) {
            const response = await fetch(url);

            return response.json();
        }

        async function writeData(){
            const data = await getData(url);
            const average = array => array.reduce((a, b) => a + b) / array.length;

            console.log(average(data.hourly.temperature_2m));
        }

        document.write("hello");
        writeData();
        document.write("bye");

    </script>



<%- include ("_footer.ejs"); %>
